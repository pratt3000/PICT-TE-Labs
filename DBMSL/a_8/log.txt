
mysql> DROP DATABASE if EXISTS A8;
Query OK, 1 row affected (0.01 sec)

mysql> CREATE DATABASE A8;
Query OK, 1 row affected (0.01 sec)

mysql> USE A8;
mysql> 
mysql> CREATE TABLE student(
    ->     roll_no INT,
    ->     name VARCHAR(20),
    ->     doa date, 
    ->     branch VARCHAR(20),
    ->     percent INT,
    ->     status VARCHAR(20)
    ->     );
Query OK, 0 rows affected (0.02 sec)

mysql> 
mysql> CREATE TABLE alumni(
    ->     roll_no INT,
    ->     name VARCHAR(20),
    ->     doa date, 
    ->     branch VARCHAR(20),
    ->     percent INT,
    ->     status VARCHAR(20)
    ->     );

mysql> 
mysql> INSERT INTO student VALUES(1, 'Prathamesh', '2020-04-8', 'Comp', '89', 'Pass');
Query OK, 1 row affected (0.01 sec)

mysql> INSERT INTO student VALUES(2, 'Aditya', '2020-04-5', 'ENTC', '45', 'Fail');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO student VALUES(3, 'Utkarsh', '2020-04-3', 'IT', '81', 'Pass');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO student VALUES(4, 'Varun', '2020-03-8', 'IT', '91', 'Pass');
Query OK, 1 row affected (0.00 sec)

mysql> INSERT INTO student VALUES(5, 'Shreya', '2020-01-23', 'Comp', '94', 'Pass');
Query OK, 1 row affected (0.00 sec)

mysql> 
mysql> 
mysql> CREATE TRIGGER student_delete
    ->     BEFORE DELETE ON student
    ->     FOR EACH ROW 
    ->     INSERT INTO alumni VALUES(
    ->     old.roll_no,
    ->     old.name,
    ->     old.doa, 
    ->     old.branch,
    ->     old.percent,
    ->     old.status
    ->     );
Query OK, 0 rows affected (0.00 sec)

mysql> 
mysql> DELIMITER $$
mysql> CREATE TRIGGER student_update
    ->     BEFORE UPDATE ON student
    ->     FOR EACH ROW 
    ->     BEGIN
    ->     INSERT INTO alumni VALUES(
    ->     old.roll_no,
    ->     old.name,
    ->     old.doa, 
    ->     old.branch,
    ->     old.percent,
    ->     old.status
    ->     );
    ->     END$$
Query OK, 0 rows affected (0.01 sec)

mysql> 
mysql> delimiter ;
mysql> UPDATE student SET percent = 81 WHERE roll_no=2;
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from alumni;
+---------+--------+------------+--------+---------+--------+
| roll_no | name   | doa        | branch | percent | status |
+---------+--------+------------+--------+---------+--------+
|       2 | Aditya | 2020-04-05 | ENTC   |      45 | Fail   |
+---------+--------+------------+--------+---------+--------+
1 row in set (0.00 sec)

mysql> UPDATE student SET percent = 11 WHERE roll_no=2;
Query OK, 1 row affected (0.02 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from alumni;
+---------+--------+------------+--------+---------+--------+
| roll_no | name   | doa        | branch | percent | status |
+---------+--------+------------+--------+---------+--------+
|       2 | Aditya | 2020-04-05 | ENTC   |      45 | Fail   |
|       2 | Aditya | 2020-04-05 | ENTC   |      81 | Fail   |
+---------+--------+------------+--------+---------+--------+
2 rows in set (0.00 sec)

mysql> DELETE FROM student WHERE roll_no=1;
Query OK, 1 row affected (0.01 sec)

mysql> select * from alumni;
+---------+------------+------------+--------+---------+--------+
| roll_no | name       | doa        | branch | percent | status |
+---------+------------+------------+--------+---------+--------+
|       2 | Aditya     | 2020-04-05 | ENTC   |      45 | Fail   |
|       2 | Aditya     | 2020-04-05 | ENTC   |      81 | Fail   |
|       1 | Prathamesh | 2020-04-08 | Comp   |      89 | Pass   |
+---------+------------+------------+--------+---------+--------+
3 rows in set (0.00 sec)

mysql> 